/* ==========================================================================
   MIASTA – KAFELKI Z MIEJSCAMI (city notes)
   ========================================================================== */

.city-tiles {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1.25rem; /* Bezpośrednia wartość zamiast zmiennej $gap-medium */
    justify-content: center;
    margin-top: 1.5rem;

    a.city-note-tile {
        position: relative;
        overflow: hidden;
        border: 1px solid #ccc; /* Bezpośrednia wartość zamiast zmiennej $color-light-gray */
        border-radius: 0; /* Bezpośrednia wartość zamiast zmiennej $border-radius-none */
        text-decoration: none;
        color: inherit;
        background-color: #f9f9f9;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        margin: 0 auto;
        transition: transform 0.3s ease, box-shadow 0.3s ease; /* Bezpośrednie wartości zamiast zmiennej $transition-speed */
        aspect-ratio: 1 / 1; /* Bezpośrednia wartość zamiast mixinu @include square-aspect-ratio */

        &:hover,
        &:focus-visible {
            transform: scale(1.04);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            outline: none;
        }

        img {
            width: 100%; /* Bezpośrednie wartości zamiast mixinu @include cover-image */
            height: 100%;
            object-fit: cover;
            display: block;
            transition: filter 0.3s ease; /* Bezpośrednia wartość zamiast zmiennej $transition-speed */
        }

        span {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
            font-family: "IBM Plex Sans", sans-serif; /* Bezpośrednia wartość zamiast zmiennej $font-ibm-plex */
            color: transparent;
            background-color: rgba(255, 255, 255, 0);
            user-select: none;
            pointer-events: none;
            transition: color 0.3s ease, background-color 0.3s ease; /* Bezpośrednie wartości zamiast zmiennej $transition-speed */
        }
    }
}

/* --- Duże ekrany (lub komputery z myszką, niezależnie od szerokości > 0) – efekt hover --- */
@media (pointer: fine) and (hover: hover) {
    .city-tiles a.city-note-tile {
        &:hover img,
        &:focus-visible img {
            filter: brightness(0.4);
        }

        &:hover span,
        &:focus-visible span {
            background-color: rgba(255, 255, 255, 0.85);
            color: #224422;
        }
    }
}

/* --- Małe ekrany – układ w jednej kolumnie --- */
@media (max-width: 767px) { /* Bezpośrednia wartość zamiast zmiennej $breakpoint-mobile */
    .city-tiles {
        grid-template-columns: 1fr;
        gap: 1rem; /* Bezpośrednia wartość zamiast zmiennej $gap-small */

        a.city-note-tile {
            max-width: 100%;
            /* `aspect-ratio: 1 / 1;` jest już zdefiniowane globalnie w `a.city-note-tile`, więc nie trzeba powtarzać */
            border-radius: 0; /* Bezpośrednia wartość zamiast zmiennej $border-radius-none */
        }
    }
}

/* --- Urządzenia dotykowe (iPad, smartfony) – napis widoczny zawsze, niezależnie od szerokości --- */
@media (pointer: coarse), (hover: none) {
    .city-tiles a.city-note-tile {
        img {
            filter: brightness(0.7);
        }

        span {
            background-color: transparent;
            color: #ffffff; /* Bezpośrednia wartość zamiast zmiennej $color-light */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
            font-size: 2rem;
            font-weight: 700;
        }
    }
}

/* ==========================================================================
   STRONA MIASTA
   ========================================================================== */

.city-note-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Bardziej elastyczna siatka */
  gap: var(--spacing-md); /* Użycie zmiennej */
  max-width: 1200px; /* Dodanie max-width dla lepszego centrowania */
  margin: 0 auto var(--spacing-xl) auto; /* Użycie zmiennych i centrowanie */
  padding: 0 var(--spacing-sm);
  box-sizing: border-box;
}

.city-note-card {
  /* Dziedziczenie wspólnych stylów z .note-box lub podobnych, jeśli to możliwe */
  background-color: var(--color-background-accent);
  border: 1px solid var(--color-secondary);
  border-radius: var(--border-radius-md); /* Użycie zmiennej */
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  box-shadow: var(--shadow-md); /* Użycie zmiennej */
  transition: transform 0.2s ease, box-shadow 0.2s ease; /* Użycie zmiennej */

  display: flex; /* Zamiast grid, dla ujednolicenia z note-card-horizontal */
  flex-direction: row;
  gap: var(--spacing-md); /* Użycie zmiennej */
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md); /* Zgodnie z note-card-horizontal */
}

.city-note-card:hover {
  transform: translateY(-4px); /* Zgodnie z note-card-horizontal */
  box-shadow: var(--shadow-lg); /* Użycie zmiennej */
}

.city-note-card__image-wrapper {
  /* Nazewnictwo zgodne z .note-card__image-wrapper */
  flex-shrink: 0;
  width: 120px; /* Stała szerokość dla obrazka */
  height: 120px; /* Stała wysokość dla obrazka, aby był kwadratowy */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border-radius: var(--border-radius-sm); /* Użycie zmiennej */
  background-color: var(--color-secondary); /* Użycie zmiennej */
}

.city-note-card__image {
  /* Nazewnictwo zgodne z .note-card__image */
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.city-note-card__text-wrapper {
  /* Nowa klasa, aby pasowała do konwencji */
  padding: 0; /* Padding już jest na elemencie nadrzędnym .city-note-card */
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex-grow: 1; /* Pozwoli na rozciąganie się */
}

.city-note-card__title {
  /* Nazewnictwo zgodne z .note-card__title */
  margin: 0 0 var(--spacing-xs) 0; /* Użycie zmiennej */
  font-size: 1.6rem; /* Dopasowanie do note-entry__title lub note-card__title */
  font-weight: var(--font-weight-bold); /* Użycie zmiennej */
  font-family: var(--font-family-base); /* Przyjęcie zmiennej dla font-family */
  line-height: 1.2; /* Dodałem dla lepszego wyglądu */
}

.city-note-card__description {
  /* Nazewnictwo zgodne z .note-card__excerpt lub note-entry__excerpt */
  margin: 0;
  font-size: 1rem; /* Dopasowanie do note-card__excerpt */
  color: var(--color-text-secondary); /* Użycie zmiennej */
  font-weight: var(--font-weight-light); /* Dopasowanie do note-card__excerpt */
}

.city-note-card--no-image {
  grid-template-columns: 1fr; /* Zmiana układu dla braku obrazka */
  padding: var(--spacing-md); /* Większy padding, gdy brak obrazka */
  flex-direction: column; /* Zmiana na kolumnowy układ */
  align-items: flex-start; /* Dopasowanie wyrównania */
}

.city-note-card--no-image .city-note-card__text-wrapper {
  justify-content: flex-start;
  align-items: flex-start;
  text-align: left;
  padding: 0; /* Reset paddingu, bo jest na rodzicu */
}

/* Responsywność */
@media (max-width: 768px) {
  .city-note-card {
    flex-direction: column; /* Zmiana na kolumnowy układ dla mniejszych ekranów */
    padding: var(--spacing-sm);
  }

  .city-note-card__image-wrapper {
    width: 100%; /* Obrazek na całą szerokość */
    height: auto; /* Wysokość auto, aby zachować proporcje */
    max-height: 200px; /* Ograniczenie wysokości jak w note-card__image-wrapper */
  }
}


/* ==========================================================================
   STRONA POJEDYNCZEJ NOTATKI MIEJSCA (city note page)
   ========================================================================== */

.city-note-page {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem; /* Bezpośrednia wartość zamiast zmiennej $gap-large */
}

.city-note .page-title {
    font-family: "IBM Plex Sans", sans-serif; /* Bezpośrednia wartość zamiast zmiennej $font-ibm-plex */
    font-weight: 700;
    margin-bottom: 1rem;
}
